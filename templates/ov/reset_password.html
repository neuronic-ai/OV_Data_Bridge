{% extends "ov/base.html" %}
{% load static %}

{% block title %}
    <title>Reset Password</title>
{% endblock title %}

{% block content %}
    <div class="main-content">
        <div class="profile-page change-password change-password-panel">
            <form name="resetform" method="post">
                <div class="form-group profile-title">Reset password</div>
                <div class="form-group">
                    <label>New password</label>
                    <input type="Password" name="password" class="form-control" placeholder="Enter here" autofocus>
                </div>
                <div class="form-group">
                    <label>Repeat new password</label>
                    <input type="Password" name="repeat_password" class="form-control" placeholder="Enter here">
                </div>
                <div class="form-group row change-password-action" style="margin-left: 0">
                    <a href="javascript:submit_form();" class="change-paddword">Reset Password</a>
                </div>
            </form>
        </div>
    </div>
{% endblock content %}

{% block javascript %}
    <script>
        function submit_form() {
            var password = document.getElementsByName('password')[0].value;
            var repeat_password = document.getElementsByName('repeat_password')[0].value;

            if (password === '') {
                document.getElementsByName('password')[0].focus();
                return;
            }

            if (repeat_password === '') {
                document.getElementsByName('repeat_password')[0].focus();
                return;
            }

            if (password !== repeat_password) {
                swal('Error!', 'Password and repeat password need to be same!', 'error');
                return;
            }

            document.resetform.submit();
        }
    </script>
{% endblock %}